<div>
  @if (field.visible()) {

    @if (field.type == 'text') {

      <app-input-text
        [invalid]="field.touched() && !!field.errors()"
        [errorMessage]="field.errors()?.['custom']"
        [label]="field.label"
        [value]="field.value()"
        [disabled]="field.disabled()"
        (input)="field.setValue($any($event.target).value)"
        (focus)="onFocus()"
        (blur)="onBlur()" />

    }@else if (field.type == 'number') {

      <app-input-number
        [invalid]="field.touched() && !!field.errors()"
        [errorMessage]="field.errors()?.['custom']"
        [label]="field.label"
        [value]="field.value()"
        [disabled]="field.disabled()"
        [min]="0"
        [max]="100"
        (valueChange)="field.setValue($event)"
        (focus)="onFocus()"
        (blur)="onBlur()" />

    } @else {

      <app-select
        [label]="field.label"
        [value]="field.value()"
        [disabled]="field.disabled()"
        [invalid]="field.touched() && !!field.errors()"
        [errorMessage]="field.errors()?.['custom']"
        (change)="field.setValue($any($event.target).value)"
        (focus)="onFocus()"
        (blur)="onBlur()">

        @for (opt of field.options(); track opt.value) {
          <option [value]="opt.value">
            {{ opt.label }}
          </option>
        }

      </app-select>

    }

  }
</div>
