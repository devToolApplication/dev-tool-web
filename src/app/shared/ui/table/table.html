<p-table
  [value]="data"
  [paginator]="config.pagination ?? true"
  [rows]="config.rows ?? 10"
  [rowsPerPageOptions]="config.rowsPerPageOptions ?? [10,20,50]"
  [loading]="loading"
  responsiveLayout="scroll"
>

  <ng-template pTemplate="header">
    <tr>
      @for (col of config.columns; track col.field) {
        <th [pSortableColumn]="col.sortable ? col.field : undefined">
          {{ col.header }}
          @if (col.sortable) {
            <p-sortIcon [field]="col.field"></p-sortIcon>
          }
        </th>
      }
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row>
    <tr>
      @for (col of config.columns; track col.field) {
        <td>
          <app-table-cell [column]="col" [rowData]="row"></app-table-cell>
        </td>
      }
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td [attr.colspan]="config.columns.length" class="text-center">
        No data found
      </td>
    </tr>
  </ng-template>

</p-table>
