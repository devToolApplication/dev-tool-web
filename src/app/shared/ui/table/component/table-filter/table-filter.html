<div class="table-filter">
  <div class="filter-grid">
    @for (field of fields; track field.field) {
      <div class="filter-item">
        <label class="filter-label" [for]="field.field">{{ field.label }}</label>

        @if ((field.type ?? 'text') === 'select') {
          <p-select
            [inputId]="field.field"
            [options]="field.options ?? []"
            optionLabel="label"
            optionValue="value"
            [placeholder]="field.placeholder ?? ('Chọn ' + field.label.toLowerCase())"
            [(ngModel)]="values[field.field]"
            [showClear]="true"
          ></p-select>
        } @else if ((field.type ?? 'text') === 'boolean') {
          <p-select
            [inputId]="field.field"
            [options]="[
              { label: 'Tất cả', value: null },
              { label: 'Có', value: true },
              { label: 'Không', value: false }
            ]"
            optionLabel="label"
            optionValue="value"
            [placeholder]="field.placeholder ?? 'Chọn giá trị'"
            [(ngModel)]="values[field.field]"
          ></p-select>
        } @else {
          <input
            pInputText
            [id]="field.field"
            [(ngModel)]="values[field.field]"
            [placeholder]="field.placeholder ?? ('Nhập ' + field.label.toLowerCase())"
          />
        }
      </div>
    }
  </div>

  <div class="filter-actions">
    <p-button
      label="Search"
      icon="pi pi-search"
      [disabled]="loading"
      (onClick)="onSearch()"
    ></p-button>
    <p-button
      label="Reset"
      icon="pi pi-refresh"
      severity="secondary"
      [disabled]="loading"
      (onClick)="onReset()"
    ></p-button>
  </div>
</div>
